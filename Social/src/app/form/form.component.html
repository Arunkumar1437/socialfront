<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> 

<div *ngIf="isList">
    <div style="display: flex; align-items: center; gap: 10px;">
        <span (click)="openAddForm()" style="cursor: pointer;">‚ûï</span>
        <input
        type="text"
        [(ngModel)]="searchTerm"
        placeholder="Search"
        (input)="filterTable()"
        class="form-control"
        style="margin-bottom: 10px; width: 300px;"
      />
    </div>
    <div class="table-container">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th style="background: rgb(155, 236, 233);text-align: center;">Form Id</th>
            <th style="background: rgb(155, 236, 233);text-align: center;">Form Name</th>
            <th style="background: rgb(155, 236, 233);text-align: center;">Icon</th>
            <th style="background: rgb(155, 236, 233);text-align: center;">Display Order</th>
            <th style="background: rgb(155, 236, 233);text-align: center;">Redirect</th>
            <th style="background: rgb(155, 236, 233);text-align: center;">link</th>
            <th style="background: rgb(155, 236, 233);text-align: center;">Active</th>
            <th style="background: rgb(155, 236, 233);text-align: center;">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of (filteredData?.length ? filteredData : pagedUserRights)">
            <td style="text-align: center;">{{ item.formid }}</td>
            <td style="text-align: center;">{{ item.formname }}</td>
            <td style="text-align: center;">{{ item.icon }}</td>
            <td style="text-align: center;">{{ item.displayorder }}</td>
            <td style="text-align: center;">{{ item.redirect }}</td>
            <td style="text-align: center;">{{ item.link }}</td>
            <td style="text-align: center;">{{ item.active }}</td>
            <td  style="text-align: center;"><button class="btn btn-primary" style="background: transparent; border: none;" (click)="editForm(item)"><span>‚úèÔ∏è</span></button><button class="btn btn-primary" style="background: transparent; border: none;" (click)="viewform(item)"><span>üëÄ</span></button><button class="btn btn-primary" style="background: transparent; border: none;"(click)="deleteForm(item)"><span>üóëÔ∏è</span></button></td>
        </tr> 
        </tbody>
      </table>
      <footer class="panel-footer panel-footer-list" style="background-color: #e2e2e2;">	
          <div class="row" style="margin-left: 483px;">
            <div class="col-sm-12 col-md-7">
              <div class="pagination" *ngIf="numPages > 1">
                <ul class="pagination pagination-bottom">
                  <li class="footable-page-arrow" [ngClass]="{'disabled': currentPage === 1}">
                    <a (click)="selectPage(1)">
                      <span class="text-info">‚è™</span>
                  </a>
                  </li>
                  <li class="footable-page-arrow" [ngClass]="{'disabled': currentPage === 1}">
                    <a (click)="selectPage(currentPage - 1)">
                      <span class="text-info">‚¨ÖÔ∏è</span>
                    </a>
                  </li>
                  <li class="footable-page active">
                    <input type="number" [(ngModel)]="currentPage" min="1" [max]="numPages" (change)="selectPage(currentPage)">
                  </li>
                  <li class="footable-page-arrow" [ngClass]="{'disabled': currentPage === numPages}">
                    <a (click)="selectPage(currentPage + 1)">
                      <span class="text-info">‚û°Ô∏è</span>
                  </a>
                  </li>
                  <li class="footable-page-arrow" [ngClass]="{'disabled': currentPage === numPages}">
                    <a (click)="selectPage(numPages)">
                      <span class="text-info">‚è©</span>
                    </a>
                  </li>
                </ul>
                <small class="inline m-t-sm m-b-sm"> Showing page {{currentPage}} of {{numPages}} </small>
              </div>
            </div>
          </div>
      </footer>
    </div>
</div>
<div *ngIf="!isList && !isView" >
<form [formGroup]="formForm" (ngSubmit)="submit()" class="form-container">
  <div>
    <h4 class="heading text-center border border-0 bg-primary text-white rounded py-2" *ngIf="!isEdit">Add Form </h4>
    <h4 class="heading text-center border border-0 bg-primary text-white rounded py-2" *ngIf="isEdit">Edit Form </h4>

  </div>
  <div class="demo border border-1 rounded p-4" style="background-color: #f8d7da;">
    <!-- Formid -->
    <div class="form-group d-flex align-items-center mb-3" *ngIf="isEdit">
      <label  for="formid" class="control-label col-4 text-right">Form ID</label>
      <span style="margin-left: 315px" >{{formForm.get('formid')?.value || 'N/A'}}</span> 
    </div>

    <!-- Formname -->
    <div class="form-group d-flex align-items-center mb-3">
      <label for="formname" class="control-label col-4 text-right">Form Name:</label>
      <input type="text" id="formname" formControlName="formname" class="form-control w-50" placeholder="Enter Form Name" required />
    </div>

    <!-- Icon -->
    <div class="form-group d-flex align-items-center mb-3">
      <label for="icon" class="control-label col-4 text-right">Icon:</label>
      <ng-select style="border: 2px solid #fff;border-radius: 5px;margin-left: 50px;height: 35px;width: 592px;background-color: white;"formControlName="icon"[items]="iconlist"
      bindLabel="text"bindValue="id" [searchable]="true">
    </ng-select>
    </div>

    <!-- Display Order -->
    <div class="form-group d-flex align-items-center mb-3">
      <label for="displayorder" class="control-label col-4 text-right">Display Order:</label>
      <input type="number" id="displayorder" formControlName="displayorder" class="form-control w-50"  min="1" max="100" placeholder="Enter Display Order" required />
    </div>

    <!-- Redirect Link -->
    <div class="form-group d-flex align-items-center mb-3">
      <label for="redirect" class="control-label col-4 text-right">Redirect Link:</label>
      <input type="text" id="redirect" formControlName="redirect" class="form-control w-50" placeholder="Enter Redirect Link" />
    </div>

    <!-- Link -->
    <div class="form-group d-flex align-items-center mb-3">
      <label for="link" class="control-label col-4 text-right">Link:</label>
      <input type="text" id="link" formControlName="link" class="form-control w-50" placeholder="Enter Link" required />
    </div>

   <!-- Active -->
   <div class="form-group d-flex align-items-center mb-3">
    <label for="active" class="control-label col-4 text-right">Active:</label>
    <div class="w-75">
      <div class="form-check form-switch">
        <input type="checkbox" class="form-check-input" id="active" formControlName="active">
        <label class="form-check-label" for="active"></label>
      </div>
    </div>
  </div>
  
  <!-- Buttons -->
    <div class="form-group d-flex justify-content-center mt-4">
      <button type="submit" id="submit" class="btn btn-success mx-2" *ngIf="!isEdit">Save </button>
      <button type="submit" id="submit" class="btn btn-success mx-2" *ngIf="isEdit">Update</button>
      <button type="button" class="btn btn-danger mx-2" (click)="cancel()">Cancel</button>
    </div>
  </div>
</form>
</div>
<div *ngIf="isView">
  <div class="container mt-5">
   <div class="card shadow-lg">
     <div class="card-header bg-secondary text-white text-center">
       <h4>Form View</h4>
     </div>
     <div class="card-body">
       <div class="row mb-3">
         <div class="col-md-3 font-weight-bold" id="gridhead"><b>Form ID</b></div>
         <div class="col-md-3">{{ formForm.get('formid')?.value || 'N/A' }}</div>
         <div class="col-md-3 font-weight-bold" id="gridhead"><b>Form Name</b></div>
         <div class="col-md-3">{{ formForm.get('formname')?.value || 'N/A' }}</div>
       </div>
       <div class="row mb-3">
         <div class="col-md-3 font-weight-bold"><b>Icon</b></div>
         <div class="col-md-3">{{ formForm.get('iconemoj')?.value || 'N/A' }}</div>
         <div class="col-md-3 font-weight-bold"><b>Display Order</b></div>
         <div class="col-md-3">{{ formForm.get('displayorder')?.value || 'N/A' }}</div>
       </div>
       <div class="row mb-3">
         <div class="col-md-3 font-weight-bold"><b>Redirect</b></div>
         <div class="col-md-3">{{ formForm.get('redirect')?.value || 'N/A' }}</div>
         <div class="col-md-3 font-weight-bold"><b>Link</b></div>
         <div class="col-md-3">{{ formForm.get('link')?.value || 'N/A' }}</div>
       </div>
       <div class="row mb-3">
         <div class="col-md-3 font-weight-bold"><b>Active</b></div>
         <div class="col-md-3">{{ formForm.get('active')?.value || 'N/A' }}</div>
       </div>
     <div class="card-footer text-center">
       <button class="btn btn-danger me-2" (click)="cancel()">Cancel</button>
     </div>
   </div>
 </div>
</div>